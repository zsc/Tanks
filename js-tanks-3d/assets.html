<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tank Battle - Audio Assets</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #0f0;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #0f0;
            text-shadow: 0 0 10px #0f0;
            border-bottom: 2px solid #0f0;
            padding-bottom: 10px;
        }
        h2 {
            color: #0a0;
            margin-top: 30px;
        }
        .audio-container {
            background: #2a2a2a;
            border: 1px solid #0f0;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        .audio-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #0f0;
        }
        audio {
            width: 100%;
            margin: 5px 0;
        }
        .abc-notation {
            background: #333;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
            font-size: 12px;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 5px 15px;
            cursor: pointer;
            font-family: inherit;
            margin: 5px;
            border-radius: 3px;
        }
        button:hover {
            background: #0a0;
        }
        .controls {
            margin: 20px 0;
            padding: 15px;
            background: #2a2a2a;
            border: 1px solid #0f0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>üéÆ Tank Battle - Multi-Track Audio Assets üéµ</h1>
    <p style="color: #0a0; margin: 10px 0;">Enhanced with chord progressions, bass lines, and timpani percussion!</p>
    
    <div class="controls">
        <h2>Master Controls</h2>
        <button onclick="playAll()">‚ñ∂Ô∏è Play All</button>
        <button onclick="stopAll()">‚èπÔ∏è Stop All</button>
        <button onclick="setVolume(0.5)">üîâ 50% Volume</button>
        <button onclick="setVolume(1.0)">üîä 100% Volume</button>
    </div>

    <h2>Game Music Tracks</h2>

    <div class="audio-container">
        <div class="audio-title">üé∫ Title Theme</div>
        <audio id="title_theme" controls>
            <source src="audio/title_theme.ogg?v=1756544103" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('title_abc')">Show/Hide ABC Notation</button>
        <div id="title_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Main Melody (Heroic march theme)
- Voice 2: Harmony/Chords (C, F, G progressions)
- Voice 3: Bass Line (Walking bass pattern)
- Voice 4: Timpani (Military percussion)

Tempo: 140 BPM | Key: C Major
        </div>
    </div>

    <div class="audio-container">
        <div class="audio-title">‚öîÔ∏è Battle Theme</div>
        <audio id="battle_theme" controls>
            <source src="audio/battle_theme.ogg?v=1756544103" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('battle_abc')">Show/Hide ABC Notation</button>
        <div id="battle_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Main Melody (Fast-paced action theme)
- Voice 2: Power Chords (Dm, Gm, F, C progressions)
- Voice 3: Driving Bass Line (Repetitive, intense pattern)
- Voice 4: War Drums (Timpani with aggressive rhythm)

Tempo: 160 BPM | Key: D Minor
        </div>
    </div>

    <div class="audio-container">
        <div class="audio-title">üèÜ Victory Theme</div>
        <audio id="victory_theme" controls>
            <source src="audio/victory_theme.ogg?v=1756544103" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('victory_abc')">Show/Hide ABC Notation</button>
        <div id="victory_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Main Melody (Triumphant fanfare)
- Voice 2: Triumphant Harmonies (G, D, C, Am chords)
- Voice 3: Celebratory Bass (Ascending patterns)
- Voice 4: Victory Rolls (Timpani with dramatic flourishes)

Tempo: 120 BPM | Key: G Major
        </div>
    </div>

    <div class="audio-container">
        <div class="audio-title">üíÄ Game Over Theme</div>
        <audio id="game_over_theme" controls>
            <source src="audio/game_over_theme.ogg?v=1756544103" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('gameover_abc')">Show/Hide ABC Notation</button>
        <div id="gameover_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Main Melody (Slow, mournful theme)
- Voice 2: Mournful Harmonies (Am, Dm, Em, G chords)
- Voice 3: Deep Bass Line (Slow, descending pattern)
- Voice 4: Funeral Drums (Sparse timpani hits)

Tempo: 80 BPM | Key: A Minor
        </div>
    </div>

    <div class="audio-container">
        <div class="audio-title">‚≠ê Powerup Jingle</div>
        <audio id="powerup_jingle" controls>
            <source src="audio/powerup_jingle.ogg?v=1756544103" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('powerup_abc')">Show/Hide ABC Notation</button>
        <div id="powerup_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Main Melody (Quick ascending arpeggio)
- Voice 2: Bright Harmonies (C major chord progression)
- Voice 3: Rising Bass (C to high C octave jump)
- Voice 4: Quick Hits (Timpani accents)

Tempo: 180 BPM | Key: C Major
        </div>
    </div>

    <h2>Sound Effects</h2>

    <div class="audio-container">
        <div class="audio-title">üî´ Bullet Fire</div>
        <audio id="bullet_fire" controls>
            <source src="audio/bullet_fire.ogg?v=1756546200" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('bullet_fire_abc')">Show/Hide ABC Notation</button>
        <div id="bullet_fire_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Sharp firing sound (Gunshot pop)
- Voice 2: Low frequency thump (Bass impact)
- Voice 3: Percussion hit (White noise burst)

Tempo: 240 BPM | Key: C Major
Duration: ~0.25 seconds
        </div>
    </div>

    <div class="audio-container">
        <div class="audio-title">üí• Bullet Hit</div>
        <audio id="bullet_hit" controls>
            <source src="audio/bullet_hit.ogg?v=1756546200" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <button onclick="toggleABC('bullet_hit_abc')">Show/Hide ABC Notation</button>
        <div id="bullet_hit_abc" class="abc-notation" style="display:none;">
[Multi-Track Arrangement]
- Voice 1: Impact sound (Descending pitch)
- Voice 2: Explosion bass (Low rumble)
- Voice 3: Metallic hit (Sharp clang)

Tempo: 240 BPM | Key: C Major
Duration: ~0.5 seconds
        </div>
    </div>

    <h2>3D Positional Audio Demo</h2>
    <div class="audio-container">
        <h3>Test 3D Audio Positioning</h3>
        <div style="margin: 20px 0;">
            <button onclick="test3DAudio('left')">‚ñ∂Ô∏è Play Left</button>
            <button onclick="test3DAudio('center')">‚ñ∂Ô∏è Play Center</button>
            <button onclick="test3DAudio('right')">‚ñ∂Ô∏è Play Right</button>
            <button onclick="test3DAudio('far')">‚ñ∂Ô∏è Play Far</button>
            <button onclick="test3DAudio('sequence')">‚ñ∂Ô∏è Play Sequence</button>
        </div>
        <div id="3d-audio-info" style="color: #0a0; margin-top: 10px;">
            Click buttons to test 3D audio positioning with bullet sounds
        </div>
    </div>

    <h2>Usage in Game</h2>
    <div class="audio-container">
        <pre style="color: #0f0;">
// Example JavaScript usage:
const audioManager = {
    tracks: {
        title: new Audio('audio/title_theme.ogg'),
        battle: new Audio('audio/battle_theme.ogg'),
        victory: new Audio('audio/victory_theme.ogg'),
        gameOver: new Audio('audio/game_over_theme.ogg'),
        powerup: new Audio('audio/powerup_jingle.ogg'),
        bulletFire: new Audio('audio/bullet_fire.ogg'),
        bulletHit: new Audio('audio/bullet_hit.ogg')
    },
    
    play(trackName, loop = false) {
        const track = this.tracks[trackName];
        if (track) {
            track.loop = loop;
            track.play();
        }
    },
    
    stop(trackName) {
        const track = this.tracks[trackName];
        if (track) {
            track.pause();
            track.currentTime = 0;
        }
    }
};

// Play title music on menu
audioManager.play('title', true);

// Play battle music during game
audioManager.play('battle', true);

// Play powerup sound effect
audioManager.play('powerup', false);

// 3D Positional Audio Example
audioManager.play3D('bulletFire', 
    {x: 10, z: 5},      // Sound position
    {x: 0, z: 0},       // Listener position
    {
        volume: 0.8,
        maxDistance: 20,
        refDistance: 2
    }
);

// Distance-based volume calculation
// volume = refDistance / distance (when distance > refDistance)
// Stereo panning based on angle between listener and source
        </pre>
    </div>

    <script>
        function toggleABC(id) {
            const elem = document.getElementById(id);
            elem.style.display = elem.style.display === 'none' ? 'block' : 'none';
        }

        function playAll() {
            const audios = document.querySelectorAll('audio');
            let delay = 0;
            audios.forEach((audio, index) => {
                setTimeout(() => {
                    audio.play();
                }, delay);
                delay += 3000; // 3 second delay between tracks
            });
        }

        function stopAll() {
            const audios = document.querySelectorAll('audio');
            audios.forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
        }

        function setVolume(level) {
            const audios = document.querySelectorAll('audio');
            audios.forEach(audio => {
                audio.volume = level;
            });
        }

        // Set initial volume
        window.addEventListener('DOMContentLoaded', () => {
            setVolume(0.5);
            
            // Initialize Web Audio API for 3D audio demo
            window.audioContext = null;
            try {
                window.AudioContext = window.AudioContext || window.webkitAudioContext;
                window.audioContext = new AudioContext();
            } catch(e) {
                console.warn('Web Audio API not supported');
            }
        });
        
        // 3D Audio Testing Functions
        function test3DAudio(position) {
            const info = document.getElementById('3d-audio-info');
            const bulletFire = document.getElementById('bullet_fire');
            const bulletHit = document.getElementById('bullet_hit');
            
            if (!window.audioContext) {
                info.textContent = 'Web Audio API not supported - playing without positioning';
                bulletFire.play();
                return;
            }
            
            // Resume audio context if suspended
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            switch(position) {
                case 'left':
                    play3DSound(bulletFire, -1, 1.0);
                    info.innerHTML = 'üîä Playing LEFT - Pan: -1.0, Volume: 100%';
                    break;
                case 'right':
                    play3DSound(bulletFire, 1, 1.0);
                    info.innerHTML = 'üîä Playing RIGHT - Pan: +1.0, Volume: 100%';
                    break;
                case 'center':
                    play3DSound(bulletFire, 0, 1.0);
                    info.innerHTML = 'üîä Playing CENTER - Pan: 0.0, Volume: 100%';
                    break;
                case 'far':
                    play3DSound(bulletHit, 0, 0.3);
                    info.innerHTML = 'üîä Playing FAR (Hit sound) - Pan: 0.0, Volume: 30%';
                    break;
                case 'sequence':
                    info.innerHTML = 'üéµ Playing sequence: Left ‚Üí Center ‚Üí Right ‚Üí Far';
                    play3DSound(bulletFire, -1, 1.0);
                    setTimeout(() => play3DSound(bulletFire, 0, 1.0), 500);
                    setTimeout(() => play3DSound(bulletFire, 1, 1.0), 1000);
                    setTimeout(() => play3DSound(bulletHit, 0, 0.3), 1500);
                    break;
            }
        }
        
        function play3DSound(audioElement, pan, volume) {
            // Clone the audio for multiple simultaneous plays
            const audio = audioElement.cloneNode();
            audio.volume = volume;
            
            try {
                const source = audioContext.createMediaElementSource(audio);
                const panner = audioContext.createStereoPanner();
                panner.pan.value = pan;
                
                source.connect(panner);
                panner.connect(audioContext.destination);
                
                audio.play();
                
                // Clean up after playback
                audio.addEventListener('ended', () => {
                    audio.remove();
                });
            } catch(e) {
                // Fallback to regular playback
                audio.play();
            }
        }
    </script>
</body>
</html>